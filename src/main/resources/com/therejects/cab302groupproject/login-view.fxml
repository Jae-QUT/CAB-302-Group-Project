<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<StackPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
           fx:id="root"
           fx:controller="com.therejects.cab302groupproject.controller.LoginController"
           stylesheets="@../../../ui/login.css"
           styleClass="app-root">

    <HBox alignment="CENTER">
        <StackPane styleClass="card" HBox.hgrow="NEVER">
            <HBox>

                <!-- LEFT: image with overlay -->
                <StackPane styleClass="left-pane">
                    <ImageView fx:id="heroImage" fitWidth="520" preserveRatio="true"/>

                    <!-- overlay pinned near bottom-center -->
                    <VBox alignment="CENTER" spacing="6" styleClass="left-overlay"
                          StackPane.alignment="BOTTOM_CENTER">
                        <StackPane.margin>
                            <Insets top="250" right="0" bottom="20" left="0"/>
                        </StackPane.margin>

                        <Label text="Math Monsters" styleClass="brand"
                               snapToPixel="true" style="-fx-font-smoothing-type: gray;">
                            <VBox.margin><Insets top="0" right="0" bottom="2" left="0"/></VBox.margin>
                        </Label>

                        <Label text="Catch Monsters. Build Teams. Learn Maths."
                               wrapText="true" textAlignment="CENTER" maxWidth="420"
                               styleClass="tagline">
                            <VBox.margin><Insets top="0" right="0" bottom="10" left="0"/></VBox.margin>
                        </Label>

                        <Button text="VIEW MORE" onAction="#onViewMore" styleClass="primary"/>
                    </VBox>

                    <!-- New Info Overlay Modal (carousel) -->
                    <StackPane fx:id="infoOverlay" visible="false" opacity="0" styleClass="overlay-pane">
                        <StackPane fx:id="carouselRoot"
                                   styleClass="carousel"
                                   maxWidth="440" maxHeight="360"
                                   prefWidth="440" prefHeight="360">
                            <!-- Background artwork per slide -->
                            <ImageView fx:id="slideImage" fitWidth="440" fitHeight="360" preserveRatio="false"
                                       StackPane.alignment="CENTER" opacity="0.18"/>

                            <!-- Slide content -->
                            <VBox fx:id="slideContent" alignment="CENTER" spacing="12" maxWidth="360" StackPane.alignment="CENTER">
                                <Label fx:id="slideTitle" styleClass="overlay-title" text="Slide Title"/>
                                <Label fx:id="slideBody" styleClass="overlay-body" wrapText="true"
                                       text="Body copy goes here and describes the slide."/>
                                <Button fx:id="slideCta" text="Continue" onAction="#onCarouselCta" styleClass="btn-primary"/>
                            </VBox>

                            <!-- Nav buttons -->
                            <Button fx:id="prevBtn" text="❮" onAction="#onPrev"
                                    styleClass="nav-btn left" StackPane.alignment="CENTER_LEFT">
                                <StackPane.margin><Insets left="16"/></StackPane.margin>
                            </Button>

                            <Button fx:id="nextBtn" text="❯" onAction="#onNext"
                                    styleClass="nav-btn right" StackPane.alignment="CENTER_RIGHT">
                                <StackPane.margin><Insets right="16"/></StackPane.margin>
                            </Button>

                            <!-- Dots -->
                            <HBox fx:id="dots"
                                  alignment="CENTER"
                                  spacing="10"
                                  prefHeight="20">
                                <StackPane.margin>
                                    <Insets bottom="16"/>
                                </StackPane.margin>
                            </HBox>

                            <!-- Close -->
                            <Button text="✕" onAction="#onCloseOverlay" styleClass="close-btn" StackPane.alignment="TOP_RIGHT"/>
                        </StackPane>
                    </StackPane>


                </StackPane>

                <!-- RIGHT: login form -->
                <VBox styleClass="right-pane" spacing="14" alignment="CENTER_LEFT">
                    <Label text="Sign in to the site" styleClass="title"/>
                    <TextField fx:id="usernameField" promptText="Username" maxWidth="320"/>
                    <PasswordField fx:id="passwordField" promptText="Password" maxWidth="320"/>
                    <HBox spacing="8" alignment="CENTER_LEFT">
                        <CheckBox fx:id="rememberMe" text="Remember me" styleClass="small-text"/>
                        <Hyperlink text="Forgot password?" styleClass="small-text"/>
                    </HBox>
                    <Button text="LOGIN" defaultButton="true" onAction="#onLogin" maxWidth="160"/>
                </VBox>

            </HBox>
        </StackPane>
    </HBox>
</StackPane>
